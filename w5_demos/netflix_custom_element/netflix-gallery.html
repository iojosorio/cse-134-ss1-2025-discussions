<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Netflix Gallery</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #141414;
      color: white;
      padding: 20px;
      text-align: center;
    }

    #gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      padding: 20px;
      justify-items: center;
    }
  </style>
</head>
<body>
  <hgroup>
    <h1>Top Netflix Shows</h1>
    <p>Click to watchlist</p>
  </hgroup>

  <div id="gallery"></div>

  <!-- Load the custom element -->
  <script type="module" src="./netflix-show.js"></script>

  <script>
    const shows = [
      {
        id: 1,
        title: "Stranger Things",
        genre: "Sci-Fi, Thriller",
        image: "https://images.ctfassets.net/4cd45et68cgf/22eaxyrfqLTOmD0ZgFJDX0/6d7b8a0f4c3130fd87c9921cbd11d180/image5.jpg"
      },
      {
        id: 2,
        title: "Schitt's Creek",
        genre: "Comedy, Drama",
        image: "https://goldenglobes.com/wp-content/uploads/2023/10/Schitts-Creek.jpg"
      },
      {
        id: 3,
        title: "The Crown",
        genre: "Historical Drama",
        image: "https://upload.wikimedia.org/wikipedia/en/thumb/7/7d/The_Crown_season_6.jpg/250px-The_Crown_season_6.jpg"
      },
      {
        id: 4,
        title: "Squid Game",
        genre: "Drama, Survival Thriller",
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRq5LiH_1dacOCR2EGPNazKR8U6gmko9eIXUg&s"
      }
    ];

    //Load cards
    window.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById("gallery");
      shows.forEach(show => {
        const card = document.createElement("netflix-show");
        //TODO 8: Set attributes: title, genre, image
        card.setAttribute("id", show.id);
        card.setAttribute("title", show.title);
        card.setAttribute("genre", show.genre);
        card.setAttribute("image", show.image);
        container.appendChild(card);
      });

    // TODO 9: Use event delegation to handle "watchlist-toggle" of a specific card that is clicked
    document.addEventListener("watchlist-toggle", (e) => {
      const card = e.target;
      console.log(`${card.title} show was clicked`);
    });
    });
  </script>
</body>
</html>
